* Краткое руководство по написанию программ
    
** Введение
   
   Здесь будет рассказано, как с помощью простого текстового редактора
   и дополнительных программ написать новый текстовый редактор или
   другую программу.
   
   
** Приблизительная последовательность действий при написании программы
    
   Почти все действия этого параграфа происходят в терминале
   (консоль). Пункты необходимо выполнять последовательно.
   
*** Название
    Выбрать название проекта (каталог, а также имена файлов и все
    имена переменных). Например, необходимо выполнить третье
    задание: написать программу печатающую алфавит.
    
    - Можно воспользоваться программой генерирующей абракодабру
     например:
#+BEGIN_SRC bash
pwgen -A -0
#+END_SRC

    - Или выбрать самостоятельно, например: proj_3_abc,
      расшифровывается как проект программы по распечатке алфавита,
      цифра 3 обозначает номер задания.
     
    - Однако, не начинайте названия со знака "тире" или
      цифры. (3_proj_abc или -3_proj_abc)

    - Не используйте в названиях специальные символы,
      национальные алфавиты (русский) и транслитерацию - это
      может сильно затруднить работу и не только
      вам.
      (Мойа␣⋐⋓⋒⋹ℙ㝉программ ⏎ №Ⓣ®☋ "a/\cpaBu〠")
      
     
    Возможно несколько вариантов написания сложных названий:

    - Слитное написание: proj3abc -
      нерекомендуетсяпопричинетрудночитаемоститаких конструкций

    - CamelCase: Proj3Abc либо proj3Abc (ВНекоторыхЯзыкахПриняты
      РазныеВариантыНаписания дляПеременныхИФункций)

    - snake-case (используя_в_качестве_разделителя_подчёркивание
      либо-тире): proj_3_abc

    - Венгерская нотация - использование префиксов (s - string, i -
      int, b - boolean, a - array, us - небезопасные, sf -
      безопасные): susClientName, iusSize, aisfDimensions, однако
      компилятор в "нормальных языках" и так знает типы (в том числе и
      пользовательские) и может их проверить

    - Смешанное: Proj_3_Abc или PROJ_3_ABC

	  
	  
    #+BEGIN_COMMENT
    Which is better: identifier names that_look_like_this or
    identifier names thatLookLikeThis?
    
    It's a precedent thing. If you have a Pascal or Smalltalk
    background, youProbablySquashNamesTogether like this. If you have
    an Ada background, You_Probably_Use_A_Large_Number_Of_Underscores
    like this. If you have a Microsoft Windows background, you
    probably prefer the "Hungarian" style which means you jkuidsPrefix
    vndskaIdentifiers ncqWith ksldjfTheir nmdsadType. And then there
    are the folks with a Unix C background, who abbr evthng n use vry
    srt idntfr nms. (AND THE FORTRN PRGMRS LIMIT EVRYTH TO SIX
    LETTRS.)
    
    CamelCase настолько читаем, что в Emacs даже есть специальный
    режим: glasses minor mode makes ‘unreadableIdentifiersLikeThis’
    readable by altering the way they display.
    #+END_COMMENT
    
	
	
    
    также заранее подумайте, что правильнее для инструкции:
   
    - чай_пей (объект_действие) или (объект_метод)
    - пей_чай (наоборот)
	

    Выбор варианта стиля:

    - работа в команде - команда выберет стиль за вас.

    - продолжение работы над уже существующим проектом - предыдущий
      автор уже выбрал стиль за вас.

    - ВЯзыкеПрограммированияИспользуется ОпРеДеЛёНнЫйСтИлЬ -
      язык_программирования_выберет стиль&#8209;за&#8209;вас.

    - в остальных случаях выбор стиля за вами. Да.

	  
    Выбранный вариант желательно использовать не только для
    каталогов, но и для названий файлов, а также во всей
    программе для функций, переменных и прочего.
   

*** Создание каталога
    Это необходимо сделать только один раз перед началом нового
    проекта (программы). Каждый проект хранится в отдельном
    каталоге. Каталог проекта будет содержать исходный код программы,
    исполняемые файлы, руководство пользователя и другие файлы
    необходимые для работы программы.
    
    пример:
   
#+BEGIN_SRC bash
mkdir -p 21119/petroff/proj_3_abc
#+END_SRC
    где 
    - /21119/ - номер группы,
    - /petroff/ - фамилия,
    - /proj_3_abc/ - название проекта.

	
	
*** Перейти в каталог проекта

#+BEGIN_SRC bash
cd 21119/petroff/proj_3_abc
#+END_SRC


*** <<Текстовый редактор>>
    запустить любимый текстовый редактор,
    например: emacs, vim(gvim), mc(mcedit), gedit.

    #+BEGIN_COMMENT
    По моему мнению при изучении низкоуровневых (паскаль создавался
    как подготовка к языку C, а язык C по мнению авторов языка C -
    переносимый ассемблер) языков, чтобы написать "Hello world!", не
    стоит использовать "Интегрированные среды разработки"
    (IDE). Потому что, помимо самого языка придётся изучать IDE,
    которые порой ещё более запутанные, чем изучаемый язык
    программирования. В большинстве текстовых редакторов есть
    подсветка синтаксиса и парных скобок, автодополнение или сниппеты,
    автоматическое выравнивание кода, а компилировать можно в
    терминале (хотя некоторые редакторы позволяют компилировать по
    команде), всего этого для начала должно хватить. В дальнейшем,
    скорее всего, студент не будет работать в паскале: на третьем
    курсе начинают изучать язык C и к тому времени сможет сам выбрать
    IDE, а изучение Lazarus-а или Delphi (паскалевские IDE) окажется
    почти напрасным.
    #+END_COMMENT
   
    Запускать не обязательно из терминала, можно из "Меню программ":
    Системные или Разработка, а может быть Инструменты э-э-э-э нет
    всё-таки Прочее, если тоже не обнаружилось то наверное пропустили
    в Системных > Простой редактор текстов > [уже в простом редакторе
    текстов] Файл > Открыть > найти и выбрать двойным щелчком 21119 >
    найти и выбрать двойным щелчком petroff > найти и выбрать двойным
    щелчком proj_3_abc > найти и выбрать двойным щелчком abc3.pas
    (хотя некоторые могут заметить, что в терминале подобное уже было
    сделано командой cd 21119/petroff/proj_3_abc, но терминал нам
    потребуется запускать для ручной компиляции. А другие знают про
    Alt-F2.)
	
    а в терминале:
   
#+BEGIN_SRC bash
emacs abc3.pas &
#+END_SRC
    где 
    - /emacs/ - текстовый редактор: vim, mcedit, gedit,

    - /abc3.pas/ - название программы - должно быть
      связано с названием проекта и вместо abc3.pas желательно
      использовать proj_3_abc.pas,

    - /&/ - (амперсанд) - интерпретатор (bash) не дожидается завершения
      команды, выполнение программы (emacs) происходит в фоновом режиме
      (в терминале можно вводить команды не останавливая emacs)
 
	  
*** Написание программы
    <<write_program>>
   
    в текстовом редакторе самостоятельно написать
    хорошую, правильную программу. После написания программы не
    закрывайте текстовый редактор.
   
   
    Правильная программа предполагает хорошее оформление. Прочитать
    обязательно: [[http://zed.karelia.ru/go.to/for.students/coding.rules/rules][как НУЖНО оформлять исходные тексты программ]]



	    
    Для упрощения процесса написания программы (на примере
    emacs):
    
    - используйте табуляцию для отступов и
     автоматического выравнивания

    - после того, как запомните однотипные базовые конструкции
      (например: program ... uses ... const ... var ... begin
      ... end.), включите сниппеты (snippet).
		
      Например: в редакторе написали слово "program" и
      больше ничего, потом нажимаете "Tab" и появляется
      заготовка целого блока программы program ... uses
      ... const ... var ... begin ... end.</p>
      
    - как можно чаще сохраняйте программу (в компьютерных
      классах старые компьютеры - возможны зависания)

    - за неделю с компьютером может случиться разное -
      например, на лабораторных по эксплуатации ЭВМ будут
      изучать файловые системы и ... , поэтому в конце
      занятия сохраните свою программу:

      + на флэшку, в каталог с датой и версией, например:
        2014-11-15-v1.2, а <strong>перед тем как вытащить флэшку -
        ВСЕГДА отмонтируйте</strong> файловую систему независимо от
        операционной системы. Хотя в случае autofs отмонтирование
        происходит автоматически, если файловая система не
        используется определённое время, но в этом случае необходимо
        закрыть все программы связанные с флэшкой и подождать
        определённое время (уточнить в настройках autofs).
       
      + через интернет сервис [[http://pastebin.com/][http://pastebin.com/]] (возможно
        потребуется разрешить java скрипты - в правом верхнем углу
        перечёркнутая буква S разрешить pastebin.com). После отправки,
        получите короткий код типа http://pastebin.com/cOcle, который
        аккуратно записываете повторяя все _маленькие_ и *БОЛЬШИЕ*
        буквы и цифры.  Внимание - в коде cOcle второй символ - цифра
        ноль, а третья и четвёртая буквы cl иногда сливаются в букву d
        как и другие комбинации букв rnm, 1Il|, 0OОoо, ыЫbl, ...
	
      + через другой интернет сервис, например:
        [[https://gist.github.com/][https://gist.github.com/]] аналогично получите код
	
	
     - после того, как вдоволь насохраняетесь - обязательно
       узнайте что такое "системы контроля версий [d]vcs"
       например: git.
		
     - к этому моменту вы уже либо превратите emacs/vim в
       IDE, либо найдёте IDE по своему вкусу, или забросите
       программирование.
       
	    
*** <<fpc>>

    компиляция программы компилятором (fpc) - процесс получения
    исполняемого файла из исходных текстов программы
    
#+BEGIN_SRC bash
fpc abc3.pas
#+END_SRC

    где
    - /abc3.pas/ - название программы.
   
     
    
    Однако, лучше использовать гламурную компиляцию; для этого нужно в
    терминале ввести команду (не забудьте написать команду в одну
    строчку, а также поменять типографские кавычки на одинарные
    кавычки, если это необходимо)
   
#+BEGIN_SRC bash
function fpcc() { fpc "$1" 2>&1 | grep -Ei --color 'error|fatal|warning|note|'; }
#+END_SRC

	    
	    
    и запускать
#+BEGIN_SRC bash
fpcc abc3.pas
#+END_SRC


    #+BEGIN_COMMENT
    http://www.linux.org.ru/forum/development/4184158
    http://creativecommons.org/licenses/
    http://legroom.net/2009/08/18/bash-shell-aliases-and-functions
    #+END_COMMENT
    
    или можно создать файл ~/bin/fpcc.sh с таким содержимым:
	    
#+BEGIN_SRC bash
#!/bin/sh
fpc $1 2>&1 | grep -Ei --color 'error|fatal|warning|note|'
#+END_SRC

	    
	    
    тогда запускать 
#+BEGIN_SRC bash
~/bin/fpcc.sh abc2.pas
#+END_SRC

	    
	    
	    
	    
	    
*** Сообщения компилятора
    Внимательно прочитать сообщения компилятора. При наличии ошибок
   или предупреждений перейти к <a href="#write_program">пункту про
   написание программы<a> (о сообщениях компилятора см. ниже)
   
*** Запуск программы
	    
#+BEGIN_SRC bash
./abc3
#+END_SRC
    
    где
    - ./ - текущий каталог,
    - /abc3/ - название исполняемого файла (без расширения ".pas").

	    
	    
*** проверка
    если программа получилась негодной, перейти
    к [[write_program][пункту про написание программы]]
	    
*** График 
    если для демонстрации программы необходимо построить
    график, то нет никакой необходимости строить график из
    паскаля. Воспользуйтесь программами для построения
    графиков: для этого получите текстовый файл с несколькими
    колонками разделёнными запятыми (без лишних сообщений),
    например так:
    
    
#+BEGIN_SRC fundamental
x1, y11, y12, y13
x2, y21, y22, y23
x3, y31, y32, y33
...
#+END_SRC
    
    
    
#+BEGIN_SRC pascal
program abc5;
uses math;
const
   h: real = 1.0e-1;
var 
   a,b,c : real;

begin
   a:=0.0;
   b:=5.0;
   c:=a;
   repeat
      writeln(c, ', ', sin(c));
      c := c + h;
   until (c>b);
   
end.
#+END_SRC

	    
	    
    запускайте с перенаправлением стандартного вывода внутрь
    файла:

#+BEGIN_SRC bash
./abc3 > data.txt
#+END_SRC

	    
    в zsh, если файл data.txt уже есть, запускаем так:
#+BEGIN_SRC bash
./abc3 >! data.txt
#+END_SRC

   
   
   
    для построения графика можно, например, воспользоваться
    программой R или gnuplot (в них можно строить даже
    трёхмерные поверхности)
    
    - R
      запускаем в терминале
#+BEGIN_SRC bash
R
#+END_SRC

#+BEGIN_SRC R
gr <- read.table("data.txt", sep=",", head=FALSE)
plot(gr, type="l")
#+END_SRC

    - gnuplot
      запускаем в терминале 
#+BEGIN_SRC bash
gnuplot
#+END_SRC

#+BEGIN_SRC gnuplot
plot "data.txt" with line
#+END_SRC
    
    выход "Ctrl + d"
    
    
    
    
** Сообщения компилятора
   Компилятор показывает сообщения об ошибках с номером строки и
   номером символа в круглых скобках.  Например (6,4) - ошибка в
   строке 6, номер символа 4.
   
   Однако, например, если отсутствует *;* (точка с запятой) в конце
   оператора, то компилятор укажет на следующую строку (пропущенную
   точку с запятой, скорее всего, нужно добавить строкой выше).
      
   Если вы воспользовались гламурной компиляцией [[fpc]], то ключевые
   слова будут подсвечены цветом.
	
   Если в процессе компиляции появляются сообщения со словами
   "error" или "fatal", то в программе присутствует ошибка, которую
   необходимо исправить. Например, ошибки синтаксиса и операции с
   несовместимыми типами данных:


#+BEGIN_SRC bash
abc3.pas(6,4) Fatal: Syntax error, "." expected but ";" found
abc3.pas(7,4) Error: Incompatible types: got "String" expected "Real"
abc3.pas(10) Fatal: There were 1 errors compiling module, stopping
Fatal: Compilation aborted
#+END_SRC

      
      
   Если в процессе компиляции появляются сообщения со словами
   "warning" или "note", то в программе присутствует недостаток,
   котоый желательно исправить. Например, неиспользуемая переменная и
   неинициализированная переменная (объявили переменную, в неё ничего
   не записали, попытались вывести её значение на экран):

#+BEGIN_SRC bash
abc3.pas(3,7) Note: Local variable "c" not used
abc3.pas(10,16) Warning: Variable "b" does not seem to be initialized
#+END_SRC

      
      
   успешно откомпилированная программа должна содержать примерно
   такую строку:
      
#+BEGIN_SRC bash
10 lines compiled, 0.1 sec
#+END_SRC
  
      
      
      

** Отчёт по программе
   
1. Формулировка задания, а также расшифровка как вы поняли
   смысл задания.
2. Словесно-формульный алгоритм. Описать как работает алгоритм и
   рассмотреть сложные моменты.
3. Блок-схема. Агромадный рисунок с кружочками, стрелочками
   и многоугольниками. Для создания вручную можно
   воспользоваться программой dia, tikZ или graphwiz. Для
   генерации автоматически - doxygen. <!-- Когда от
   ГОСТа&nbsp;19.701&#8209;90 выработается стойкое
   отвращение --> Почитайте про UML.
4. Программа. Продемонстрировать исходный код программы.
5. Руководство пользователя. Что нужно вводить и как получить
   результат.
6. Проверка. Если в программе вычисляется y:=sqrt(1/x) нужно
   проверить как работает программа при x=0.0; x=-9.0 и обычных
   числах например x=25.0
7. Улучшения. Большинство программ можно улучшить. Необходимо
   описать возможные изменения, например:
   
   в программе присутствует ввод целого числа, но пользователь
   может ввести:
   
   - "пять"
   - " 5" (пробел 5 [это допустимо, но зачем?])
   - "=5"
   - "5O" (буква O очень похожа на цифру 0)
   - "5,4" (вместо 5.4 если спрашивают число с плавающей
     запятой).

   Всё это можно исправить, если создать функцию, например:
   "readint", которая будет запрашивать ввод данных в виде
   строки, предварительно обрабатывать их в целочисленный тип
   (например, с помощью val), а в случае некорректного "числа"
   запрашивать ввод повторно.
8. Лицензия. Указать название лицензии.
   - /BSD/ Свободное программное
     обеспечение. Делайте с программой что хотите:
     запускайте, изучайте, копируйте, изменяйте,
     распространяйте, продавайте. Но оставьте информацию о
     авторе и том что автор не несёт никакой ответственности
     и ничего не гарантирует.
   - /GNU GPL/ Свободное программное
     обеспечение. Делайте с программой что хотите:
     запускайте, изучайте, копируйте, изменяйте,
     распространяйте, продавайте. Но оставьте информацию о
     авторе и том что автор не несёт никакой ответственности
     и ничего не гарантирует. Также сохраните лицензию GPL на
     программу и её реинкарнации (форки).
   - /EULA/ (лицензионное соглашение с конечным
     пользователем) - договор между владельцем (автором)
     компьютерной программы и +рабом+
     пользователем её копии. В случае EULA, необходимо
     привести полный текст лицензии:

     Студенту, желающему сдать работу и выбравшему в качестве лицензии
     EULA, требуется написать конечное соглашение пользователя в
     котором для примера, но не для бездумного копирования,
     используется в качестве основы, следующее описание, в котором
     описываются ограничения включающие, но не ограничивающиеся,
     запрещением просмотра исходного кода и его изучения (только под
     NDA - соглашение о неразглашении продажи бессмертной души),
     запрещение распространения, запрещение несанкционированного и
     несогласованного с высшим руководством запуска программы,
     запрещение продажи без покупки дистрибьюторских прав, банальные
     зонды и прочие соглашения почти не нарушающие конституцию и права
     человека, если будет доказано, что пользователь действительно и
     неоспоримо на момент договора и в течении всего времени на
     которое распространяется действие договора, являлся человеком,
     причём без возможности получения прямой либо косвенной выгоды, в
     том числе либо материальной либо нематериальной выгоды, включая
     использование данного соглашения без изменения его сути и
     содержания, ограничиваясь только 10 (десятью) страницами мелкого,
     трудно читаемого текста.
	  
	  
	  
	  
** Список литературы
   - Жиганов Е.Д.
	  [[http://zed.karelia.ru/go.to/for.students/coding.rules/rules][/Студентам/Оформление программ/Правила]] Как НУЖНО
	  оформлять исходные тексты программ









* Авторство
  Copyright (C) 2014 Roman V. Prikhodchenko
    
  Author: Roman V. Prikhodchenko [[chujoii@gmail.com]]
	  
* Лицензия
  
  [[CC_BY-SA_88x31.png]]
	  
  руководство распространяется в соответствии с условиями
  [[http://creativecommons.org/licenses/by-sa/3.0/][Attribution-ShareAlike]] (Атрибуция — С сохранением условий) CC BY-SA.
  Копирование и распространение приветствуется.
